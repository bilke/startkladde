Editierbarkeit
==============

N. B. diese Beschreibung ist nicht aktuell, die _temp-Tabellen werden nicht mehr
verwendet.

Editierbar bedeutet, dass der Eintrag vom Startschreiber editiert werden kann.
Grundsätzlich könnnen alle Einträge vom sk_admin editiert werden.
Um Sicherheit gegen direkten SQL-Zugriff zu erhalten, reicht ein Flag in der
Tabelle dazu nicht aus, da Zugriffsrechte nicht Datensatzweise gewährt werden
könnnen.
Daher gibt es eine Tabelle # und eine Tabelle #_temp, mit # aus (flug, person,
flugzeug). Schreibrechte bestehen auf #_temp.
Ein Eintrag, der in # vorhanden ist, hat Priorität über einen Eintrag mit der
gleichen ID, der auch in #_temp vorhanden ist.


Editierbar/nicht editierbar machen:
Bedingungen hinterher:
  - Editierbar: Perm nein, Temp ja
  - Nicht editierbar: Perm ja

Existiert  ||                |       |           |Editierbar | Nicht edi-
Perm |Temp ||Beschreibung    |Gültig |Editierbar |machen     | tierbar machen
-----+-----++----------------+-------+-----------+-----------+---------------
Nein |Nein ||Fehler          |-      |-          |Fehler     | Fehler
Nein |Ja   ||Startschreiber  |Temp   |Ja         |-          | T>P (-T)
Ja   |Nein ||Stammdaten      |Perm   |Nein       |P>T -P     | -
Ja   |Ja   ||Extern geändert |Perm   |Nein       |P>T -P     | (-T)

Perm: Permanent
Temp: Temporary
P: Perm
T: Temp
a>b: Von a in b kopieren
-a: Aus a löschen
(.): Nicht zwingend

Queries:
Kopieren:
insert into #(_temp) select from #(_temp) where id=$id
Prüfen:
select from #(_temp) where id=$id
Löschen:
delete from $(_temp) where id=$id

